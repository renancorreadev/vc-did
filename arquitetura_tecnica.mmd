graph TB
    %% Estilos otimizados para modo escuro
    classDef vc fill:#1a237e,stroke:#3f51b5,stroke-width:3px,color:#ffffff
    classDef api fill:#4a148c,stroke:#9c27b0,stroke-width:2px,color:#ffffff
    classDef blockchain fill:#e65100,stroke:#ff9800,stroke-width:2px,color:#ffffff
    classDef flow fill:#1b5e20,stroke:#4caf50,stroke-width:2px,color:#ffffff

    %% Credenciais VerificÃ¡veis - Core
    subgraph "ğŸ“‹ Credenciais VerificÃ¡veis (W3C Standard)"
        VC["ğŸ« Verifiable Credential<br/>â€¢ Issuer DID<br/>â€¢ Subject DID<br/>â€¢ Credential Schema<br/>â€¢ Proof (Digital Signature)"]:::vc
        VP["ğŸ“¦ Verifiable Presentation<br/>â€¢ Holder DID<br/>â€¢ Selected Credentials<br/>â€¢ Presentation Proof"]:::vc
    end

    %% APIs Layer
    subgraph "ğŸ”Œ API Layer"
        ISSUE["ğŸ“ Issuer API :8083<br/>POST /credentials/issue<br/>POST /credentials/revoke"]:::api
        VERIFY["âœ… Verifier API :8084<br/>POST /credentials/verify<br/>GET /credentials/status"]:::api
        CUSTODY["ğŸ” Custody API :8082<br/>Wallet Management<br/>Key Operations"]:::api
    end

    %% Blockchain Smart Contracts
    subgraph "â›“ï¸ Blockchain Layer (Ethereum)"
        DID_REG["ğŸ“‹ DIDRegistry Contract<br/>â€¢ registerCredential()<br/>â€¢ getCredential()<br/>â€¢ updateCredential()"]:::blockchain
        STATUS["ğŸ“Š StatusList2021 Contract<br/>â€¢ createStatusList()<br/>â€¢ revokeCredential()<br/>â€¢ getCredentialStatus()"]:::blockchain
    end

    %% Fluxos Principais
    subgraph "ğŸ”„ Credential Lifecycle"
        ISSUE_FLOW["1ï¸âƒ£ ISSUANCE<br/>Create â†’ Sign â†’ Register"]:::flow
        VERIFY_FLOW["2ï¸âƒ£ VERIFICATION<br/>Parse â†’ Validate â†’ Check Status"]:::flow
        REVOKE_FLOW["3ï¸âƒ£ REVOCATION<br/>Update StatusList â†’ Blockchain"]:::flow
    end

    %% ConexÃµes principais com cores vibrantes
    ISSUE -.->|"Cria VC"| VC
    VC -.->|"CompÃµe VP"| VP
    VERIFY -.->|"Valida VP"| VP

    ISSUE -->|"Registra"| DID_REG
    ISSUE -->|"Atualiza Status"| STATUS
    VERIFY -->|"Consulta"| DID_REG
    VERIFY -->|"Verifica Status"| STATUS

    ISSUE -->|"Gerencia Chaves"| CUSTODY
    VERIFY -->|"Acessa Wallet"| CUSTODY

    ISSUE_FLOW -.->|"Executa"| ISSUE
    VERIFY_FLOW -.->|"Executa"| VERIFY
    REVOKE_FLOW -.->|"Executa"| ISSUE
