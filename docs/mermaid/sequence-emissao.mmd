sequenceDiagram
    participant E as ðŸ¢ Emissor
    participant API as ðŸ“¡ API CustÃ³dia
    participant BC as â›“ï¸ Blockchain
    participant P as ðŸ‘¤ Portador

    Note over E,P: Processo de EmissÃ£o de Credencial VerificÃ¡vel

    E->>API: 1ï¸âƒ£ Criar Carteira Emissor
    API-->>E: âœ… Carteira Criada

    E->>API: 2ï¸âƒ£ Criar DID Emissor
    API->>BC: 2.1 Registrar DID na Blockchain
    BC-->>API: âœ… DID Registrado
    API-->>E: âœ… DID do Emissor

    P->>API: 3ï¸âƒ£ Criar Carteira Portador
    API-->>P: âœ… Carteira Criada

    P->>API: 4ï¸âƒ£ Criar DID Portador
    API->>BC: 4.1 Registrar DID na Blockchain
    BC-->>API: âœ… DID Registrado
    API-->>P: âœ… DID do Portador

    E->>API: 5ï¸âƒ£ Criar Lista de Status
    API-->>E: âœ… Lista de Status Criada

    E->>API: 6ï¸âƒ£ Emitir Credencial
    Note over API: 6.1 Gerar JWT/JWS
    API->>BC: 6.2 Registrar Hash da Credencial
    BC-->>API: âœ… Credencial Registrada
    API-->>E: âœ… Credencial VerificÃ¡vel

    E->>P: 7ï¸âƒ£ Entregar Credencial

    P->>API: 8ï¸âƒ£ Verificar Credencial
    API->>BC: 8.1 Consultar Status
    BC-->>API: âœ… Status VÃ¡lido
    API-->>P: âœ… Credencial VÃ¡lida
